#!/bin/bash

# kurbeScript - Starts a Kubernetes cluster and verifies its status

set -e

echo " Checking if Minikube is installed..."
if ! command -v minikube &> /dev/null; then
    echo " Minikube is not installed. Please install it before running this script."
    exit 1
fi
# check mini kuber nate is started
echo " Minikube is installed."

echo " Starting Minikube cluster..."
minikube start

echo " Waiting for cluster to become ready..."
sleep 5
# Check if kubectl is installed
echo " Verifying Kubernetes cluster info..."
kubectl cluster-info || { echo " Failed to retrieve cluster info"; exit 1; }

echo " Listing all pods in the default namespace..."
kubectl get pods

echo " Kubernetes local cluster setup complete."
# To stop the cluster, run 'minikube stop' or 'minikube delete' to remove it completely.
